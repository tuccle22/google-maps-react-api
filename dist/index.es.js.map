{"version":3,"file":"index.es.js","sources":["../src/helpers/hooks/map_hooks.js","../src/components/maps/GoogleMap/GoogleMapEvents.js","../src/helpers/hooks/use_node_ref_constructor.js","../src/components/maps/GoogleMap/GoogleMap.js","../src/helpers/hooks/use_callback_ref.js","../src/components/maps/BicyclingLayer/BicyclingLayer.js","../src/helpers/hooks/use_script.js","../src/components/maps/GoogleMap/helper/LoadMap.js","../src/components/maps/TrafficLayer/TrafficLayer.js","../src/components/maps/TransitLayer/TransitLayer.js","../src/components/addons/Clusterer/helpers.js","../src/components/addons/Clusterer/ClustererEvents.js","../src/components/addons/Clusterer/Clusterer.js","../src/components/drawing/Marker/MarkerEvents.js","../src/components/drawing/Marker/Marker.js","../src/components/drawing/Circle/CircleEvents.js","../src/components/drawing/Circle/Circle.js","../src/components/drawing/DrawingManager/DrawingManagerEvents.js","../src/components/drawing/DrawingManager/DrawingManager.js","../src/components/drawing/InfoWindow/InfoWindowEvents.js","../src/components/drawing/InfoWindow/InfoWindow.js","../src/components/drawing/OverlayView/helper.js","../src/components/drawing/OverlayView/OverlayView.js","../src/components/drawing/Polygon/PolygonEvents.js","../src/components/drawing/Polygon/Polygon.js","../src/components/drawing/Polyline/PolylineEvents.js","../src/components/drawing/Polyline/Polyline.js","../src/components/drawing/Rectangle/RectangleEvents.js","../src/components/drawing/Rectangle/Rectangle.js","../src/components/routes/DirectionsRenderer/directionsRendererEvents.js","../src/components/routes/DirectionsRenderer/DirectionsRenderer.js","../src/components/routes/DirectionsRenderer/useDirectionsRequest.js","../src/components/helpers/ScriptLoader.js","../src/components/places/AutoComplete/AutoComplete.js","../src/components/places/AutoComplete/LoadAutoComplete.js","../src/components/places/SearchBox/SearchBox.js","../src/components/places/SearchBox/LoadSearchBox.js","../src/components/street_view/StreetViewPanamora/StreetViewPanorama.js","../src/helpers/utils/map_utils.js"],"sourcesContent":["import { useEffect } from 'react'\n\nfunction useSetOptions(mapObj, opts) {\n  useEffect(() => {\n    mapObj.setOptions(opts)\n  }, [mapObj, opts])\n}\n\nfunction SetOptions({obj, opts}) {\n  useSetOptions(obj, opts)\n  return null\n}\n\nfunction SetOption({obj, func, args}) {\n  useEffect(() => {\n    obj[func](args)\n  }, [obj, func, args])\n  return null\n}\n\nfunction useMapListener(mapObj, func, event) {\n  useEffect(() => {\n    // function that passes back all event and the mapObj itself\n    const enhancedFunc = (...e) => func(...e, mapObj)\n    const listener = mapObj.addListener(event, enhancedFunc)\n    return () => window.google.maps.event.removeListener(listener)\n  }, [mapObj, func, event])\n}\n\nfunction useMapListenerOnce(mapObj, func, event) {\n  useEffect(() => {\n    const enhancedFunc = (...e) => func(...e, mapObj)\n    window.google.maps.event.addListenerOnce(mapObj, event, enhancedFunc)\n    // according to documentation this listener removes itself,\n    // but I wonder how it works if the listener never triggers\n  }, [mapObj, func, event])\n}\n\nfunction AddMapListener({obj, func, event}) {\n  useMapListener(obj, func, event)\n  return null\n}\n\nfunction useCreateMapListeners(mapObj, events, eventMapping) {\n  return Object.keys(events).map(funcName => {\n    function MapListener() {\n      useMapListener(mapObj, events[funcName], eventMapping[funcName])\n    }\n    return MapListener()\n  })\n}\n\n\nexport {\n  useSetOptions,\n  SetOptions,\n  SetOption,\n  useMapListener,\n  useMapListenerOnce,\n  AddMapListener,\n  useCreateMapListeners,\n}","export const googleMapEvents = {\n  onBoundsChanged: 'bounds_changed',\n  onCenterChanged: 'center_changed',\n  onClick: 'click',\n  onDblClick: 'dblclick',\n  onDrag: 'drag',\n  onDragEnd: 'dragend',\n  onDragStart: 'dragstart',\n  onHeadingChanged: 'heading_changed',\n  onIdle: 'idle',\n  onMapTypeIdChanged: 'maptypeid_changed',\n  onMouseMove: 'mousemove',\n  onMouseOut: 'mouseout',\n  onMouseOver: 'mouseover',\n  onProjectionChanged: 'projection_changed',\n  onRightClick: 'rightclick',\n  onTilesLoaded: 'tilesloaded',\n  onTiltChanged: 'tilt_changed',\n  onZoomChanged: 'zoom_changed',\n}","import { useCallback, useState } from 'react'\nimport { useRef } from 'react'\n\n/**\n * Creates a class instance that needs\n * a dom reference to instantiate the class\n * Returns an array of two values:\n * 1. Function - takes a dom ref\n * 2. classInstance - null on initial render\n * @param {Class} clazz\n * @param {Object} arg\n * @returns {Array} [refCallback, classInstance]\n */\nfunction useNodeRefConstructor(clazz, arg) {\n  // this mimics a constructor so we don't want to\n  // have these arguments recreate the callback\n  const initClazz = useRef(clazz)\n  const initArgs = useRef(arg)\n\n  const [inst, setInst] = useState(null)\n  const ref = useCallback(node => {\n    if (node) setInst(new initClazz.current(node, initArgs.current))\n  }, [])\n  return [ref, inst]\n}\n\nexport {\n  useNodeRefConstructor\n}","import React, { Fragment as _, createContext, useContext, useRef } from 'react'\nimport { SetOptions, SetOption, useCreateMapListeners, useMapListener, useMapListenerOnce, useSetOptions } from '../../../helpers/hooks/map_hooks'\nimport { googleMapEvents } from './GoogleMapEvents';\nimport { useNodeRefConstructor } from '../../../helpers/hooks/use_node_ref_constructor';\nimport { useEffect } from 'react';\nimport { memo } from 'react';\n/**\n * GoogleMap\n * https://developers.google.com/maps/documentation/javascript/reference/map\n */\nfunction GoogleMap({\n  bounds,\n  center,\n  children,\n  options,\n  containerProps,\n  ...events\n}) {\n\n  const [mapRef, map] = useNodeRefConstructor(\n    window.google.maps.Map, \n    { zoom: options.zoom, center }\n  )\n\n  return (\n    <_>\n      <div ref={mapRef} {...containerProps} />\n        { map ?\n          <MapContext.Provider value={map}>\n            <OnMap center={center} options={options} events={events}>\n              { children }\n            </OnMap>\n          </MapContext.Provider>\n        : null }\n    </_>\n  )\n}\n\nconst OnMap = memo(({ children, center, options, events, bounds }) => {\n  const map = useMap()\n  // set map event listeners\n  useCreateMapListeners(map, events, googleMapEvents)\n  // set options on map\n  useSetOptions(map, options)\n  // set center of map\n  useEffect(() => {\n    map.panTo(center)\n  }, [map, center])\n  // set bounds of map\n  useEffect(() => {\n    if (bounds) {\n      map.fitBounds(bounds)\n    }\n  }, [map, bounds])\n\n  return children\n})\n\n/**\n * Google Map Context for sharing the map instance\n */\nconst MapContext = createContext()\nfunction useMap() {\n  return useContext(MapContext);\n}\n\nfunction useAMapListener() {\n  const map = useMap()\n  if (!map) throw new Error(\n    'useMapEventListener is not used in a child component of GoogleMap'\n  )\n  return map\n}\n\nfunction useMapEventListener(event, func) {\n  const map = useAMapListener()\n  return useMapListener(map, func, event)\n}\nfunction useMapEventListenerOnce(event, func) {\n  const map = useAMapListener()\n  return useMapListenerOnce(map, func, event)\n}\n\nexport {\n  useMap,\n  useMapEventListener,\n  useMapEventListenerOnce,\n  GoogleMap as default\n}","import { useRef } from 'react'\n\n/**\n * I can't remember what lead me to use this pattern,\n * but just using useCallback doesn't work\n */\nfunction useCallbackRef(func) {\n  const ref = useRef(null)\n  if (ref.current === null) {\n    ref.current = func()\n  }\n  return ref.current\n}\n\nexport {\n  useCallbackRef\n}","import { useEffect } from 'react'\nimport { useMap } from '../GoogleMap/GoogleMap'\nimport { useCallbackRef } from '../../../helpers/hooks/use_callback_ref'\n\nfunction BicyclingLayer() {\n  const map = useMap()\n  const bicyclingLayer = useCallbackRef(() =>\n    new window.google.maps.BicyclingLayer()\n  )\n  useEffect(() => {\n    bicyclingLayer.setMap(map)\n    return () => bicyclingLayer.setMap(null)\n  }, [map, bicyclingLayer])\n  return null\n}\n\nexport default BicyclingLayer","import { useState, useEffect } from 'react'\n\n/**\n * useScript(someUrl, window.google && window.google.maps)\n * @param {string} url of the script\n * @param {boolean} a window object to determine whether \n * the script needs to be loaded\n * @returns {boolean} returns a stateful value of whether\n * the status of the script loading\n */\nfunction useScript(url, alreadyLoaded) {\n  const [isLoaded, setIsLoaded] = useState(alreadyLoaded)\n\n  useEffect(() => {\n    // only mount script if passed in val doesn't exist\n    if (!isLoaded) {\n      const script = document.createElement('script')\n\n      script.src = url\n      script.async = true\n      script.onload = () => setIsLoaded(true)\n      // add script to page\n      document.head.appendChild(script)\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [url])\n\n  return isLoaded\n}\n\nexport {\n  useScript\n}","import React from 'react'\nimport { useScript } from '../../../../helpers/hooks/use_script';\nimport GoogleMap from '../GoogleMap';\n\nfunction LoadMap({\n  url,\n  loadingElement = null,\n  ...rest\n}) {\n  const isLoaded = useScript(url, !!(window.google && window.google.maps))\n  return isLoaded ? <GoogleMap {...rest} /> : loadingElement\n}\n\nexport default LoadMap","import { useEffect } from 'react'\nimport { useMap } from \"../GoogleMap/GoogleMap\";\nimport { useSetOptions } from \"../../../helpers/hooks/map_hooks\";\nimport { useCallbackRef } from \"../../../helpers/hooks/use_callback_ref\";\n\nfunction TrafficLayer({options}) {\n  const map = useMap()\n  const trafficLayer = useCallbackRef(() =>\n    new window.google.maps.TrafficLayer()\n  )\n  useSetOptions(trafficLayer, options)\n  useEffect(() => {\n    trafficLayer.setMap(map)\n    return () => trafficLayer.setMap(null)\n  }, [map, trafficLayer])\n  return null\n}\n\nexport default TrafficLayer","import { useEffect } from 'react'\nimport { useMap } from '../GoogleMap/GoogleMap'\nimport { useCallbackRef } from '../../../helpers/hooks/use_callback_ref'\n\nfunction TransitLayer() {\n  const map = useMap()\n  const transitLayer = useCallbackRef(() =>\n    new window.google.maps.TransitLayer()\n  )\n  useEffect(() => {\n    transitLayer.setMap(map)\n    return () => transitLayer.setMap(null)\n  }, [map, transitLayer])\n  return null\n}\n\nexport default TransitLayer","import { useEffect } from 'react'\n\nfunction useSetClusterer(clusterer, val, setter) {\n  useEffect(() => {\n    if (val) clusterer[setter](val)\n  }, [clusterer, val, setter])\n}\n\nexport {\n  useSetClusterer\n}","export const clustererEvents = {\n  onClick: 'click',\n  onClusteringBegin: 'clusteringbegin',\n  onClusteringEnd: 'clusteringend',\n  onMouseOver: 'mouseover',\n  onMouseOut: 'mouseout'       \n}","import React, { useEffect, createContext, useContext } from 'react'\nimport MarkerClusterer from '@google/markerclustererplus'\nimport { useMap } from '../../maps/GoogleMap/GoogleMap'\nimport { useCallbackRef } from '../../../helpers/hooks/use_callback_ref'\nimport { useCreateMapListeners } from '../../../helpers/hooks/map_hooks'\nimport { useSetClusterer } from './helpers'\nimport { clustererEvents } from './ClustererEvents';\n/**\n * Clusterer Context for sharing the clusterer instance\n */\nconst ClustererContext = createContext()\nfunction useClusterer() {\n  return useContext(ClustererContext)\n}\n/**\n * Clusterer\n * https://github.com/googlemaps/v3-utility-library/tree/master/markerclustererplus\n */\nfunction Clusterer({\n  children,\n  // clusterer properties\n  averageCenter,\n  batchSizeIE,\n  calculator,\n  clusterClass,\n  enableRetinaIcons,\n  gridSize,\n  ignoreHidden,\n  imageExtension,\n  imagePath,\n  imageSizes,\n  maxZoom,\n  minimumClusterSize,\n  styles,\n  title,\n  zoomOnClick,\n  // events\n  ...events\n}) {\n  const map = useMap()\n\n  // create the clusterer\n  const clusterer = useCallbackRef(() =>\n    new MarkerClusterer(map, [])\n  )\n\n  // SET PROPERTIES\n  useSetClusterer(clusterer, styles, 'setStyles',)\n  useSetClusterer(clusterer, batchSizeIE, 'setBatchSizeIE')\n  useSetClusterer(clusterer, averageCenter, 'setAverageCenter')\n  useSetClusterer(clusterer, calculator, 'setCalculator')\n  useSetClusterer(clusterer, clusterClass, 'setClusterClass')\n  useSetClusterer(clusterer, enableRetinaIcons, 'setEnableRetinaIcons')\n  useSetClusterer(clusterer, gridSize, 'setGridSize')\n  useSetClusterer(clusterer, ignoreHidden, 'setIgnoreHidden')\n  useSetClusterer(clusterer, imageExtension, 'setImageExtension')\n  useSetClusterer(clusterer, imagePath, 'setImagePath')\n  useSetClusterer(clusterer, imageSizes, 'setImageSizes')\n  useSetClusterer(clusterer, maxZoom, 'setMaxZoom')\n  useSetClusterer(clusterer, minimumClusterSize, 'setMinimumClusterSize')\n  useSetClusterer(clusterer, styles, 'setStyles')\n  useSetClusterer(clusterer, title, 'setTitle')\n  useSetClusterer(clusterer, zoomOnClick, 'setZoomOnClick')\n\n  // handles unmounting\n  useEffect(() => () => clusterer.setMap(null), [clusterer])\n  useCreateMapListeners(clusterer, events, clustererEvents)\n  return (\n    <ClustererContext.Provider value={clusterer}>\n      { children }\n    </ClustererContext.Provider>\n  )\n}\n\n\n\nexport {\n  useClusterer,\n  Clusterer as default\n}","export const markerEvents = {\n  onAnimationChanged: 'animation_changed',\n  onClick: 'click',\n  onClickableChanged: 'clickable_changed',\n  onCursorChanged: 'cursor_changed',\n  onDblClick: 'dblclick',\n  onDrag: 'drag',\n  onDragEnd: 'dragend',\n  onDraggableChanged: 'draggable_changed',\n  onDragStart: 'dragstart',\n  onFlatChanged: 'flat_changed',\n  onIconChanged: 'icon_changed',\n  onMouseDown: 'mousedown',\n  onMouseOut: 'mouseout',\n  onMouseOver: 'mouseover',\n  onMouseUp: 'mouseup',\n  onPositionChanged: 'position_changed',\n  onRightClick: 'rightclick',\n  onShapeChanged: 'shape_changed',\n  onTitleChanged: 'title_changed',\n  onVisibleChanged: 'visible_changed',\n  onZIndexChanged: 'zindex_changed'\n}","import React, { useEffect, createContext, useContext } from 'react'\nimport { useMap } from '../../maps/GoogleMap/GoogleMap'\nimport { useSetOptions, useCreateMapListeners } from '../../../helpers/hooks/map_hooks'\nimport { useCallbackRef } from '../../../helpers/hooks/use_callback_ref'\nimport { useClusterer } from '../../addons/Clusterer/Clusterer'\nimport { markerEvents } from './MarkerEvents'\n/**\n * Marker\n * https://developers.google.com/maps/documentation/javascript/reference/marker\n */\nfunction Marker({\n  center,\n  children,\n  options,\n  noRedraw,\n  // events\n  ...events\n}) {\n\n  const map = useMap()\n  const clusterer = useClusterer()\n\n  // MARKER\n  const marker = useCallbackRef(() =>\n    new window.google.maps.Marker()\n  )\n\n  // MARKER OPTIONS\n  useSetOptions(marker, options)\n\n  // CENTER\n  useEffect(() => {\n    marker.setPosition(center)\n  }, [marker, center])\n\n  /**\n  * MOUNTING / UNMOUNTING\n  */\n  useEffect(() => {\n    if (clusterer) {\n      clusterer.addMarker(marker, noRedraw)\n      return () => {\n        clusterer.removeMarker(marker, noRedraw)\n        marker.setMap(null)\n      }\n    } else {\n      marker.setMap(map)\n      return () => {\n        marker.setMap(null)\n      }\n    }\n  }, [map, marker, clusterer, noRedraw])\n  useCreateMapListeners(marker, events, markerEvents)\n  return (\n    <MarkerContext.Provider value={marker}>\n      {children}\n    </MarkerContext.Provider>\n  )\n}\n\n/**\n * Marker Context for sharing the marker instance\n */\nconst MarkerContext = createContext()\nfunction useMarker() {\n  return useContext(MarkerContext);\n}\n\nexport {\n  useMarker,\n  Marker as default\n}","export const circleEvents = {\n  onCenterChanged: 'bounds_changed',\n  onClick: 'click',\n  onDblClick: 'dblclick',\n  onDrag: 'drag',\n  onDragEnd: 'dragend',\n  onDragStart: 'dragstart',\n  onMouseDown: 'mousedown',\n  onMouseMove: 'mousemove',\n  onMouseOut: 'mouseout',\n  onMouseOver: 'mouseover',\n  onMouseUp: 'mouseup',\n  onRadiusChagned: 'radius_changed',\n  onRightClick: 'rightclick'\n}","import { useEffect } from 'react'\nimport { useMap } from '../../maps/GoogleMap/GoogleMap'\nimport { useMarker } from '../Marker/Marker'\nimport { useSetOptions, useCreateMapListeners } from '../../../helpers/hooks/map_hooks'\nimport { useCallbackRef } from '../../../helpers/hooks/use_callback_ref'\nimport { circleEvents } from './CircleEvents'\n/**\n * Circle\n * https://developers.google.com/maps/documentation/javascript/reference/polygon#Circle\n */\nfunction Circle({\n  center,\n  options,\n  ...events\n}) {\n  const map = useMap()\n  const marker = useMarker()\n\n  // circle reference\n  const circle = useCallbackRef(() =>\n    new window.google.maps.Circle()\n  )\n\n  // set circle options\n  useSetOptions(circle, options)\n\n  // set location, if marker context, anchor, else use center\n  useEffect(() => {\n    if (marker) {\n      circle.bindTo('center', marker, 'position')\n      circle.bindTo('map', marker, 'map')\n    } else {\n      circle.setCenter(center)\n    }\n  }, [circle, marker, center])\n\n  // handles mounting/unmounting\n  useEffect(() => {\n    if (marker) {\n      // add to map if child of marker and marker is on map\n      // this means circle isn't on map if marker is clustererd\n      if (marker.getMap()) {\n        circle.setMap(map)\n      }\n    } else {\n      circle.setMap(map)\n    }\n\n    return () => circle.setMap(null)\n  }, [map, circle, marker])\n\n  useCreateMapListeners(circle, events, circleEvents)\n  return null\n}\n\nexport default Circle","export const drawingManagerEvents = {\n  onCircleComplete: 'circlecomplete',\n  onMarkerComplete: 'markercomplete',\n  onOverlayComplete: 'overlaycomplete',\n  onPolygonComplete: 'polygoncomplete',\n  onPolyLineComplete: 'polylinecomplete',\n  onRectangleComplete: 'rectanglecomplete'\n}","import { useEffect } from 'react'\nimport { useCallbackRef } from '../../../helpers/hooks/use_callback_ref'\nimport { useMap } from '../../maps/GoogleMap/GoogleMap'\nimport { useSetOptions, useCreateMapListeners } from '../../../helpers/hooks/map_hooks'\nimport { drawingManagerEvents } from './DrawingManagerEvents'\n/**\n * DrawingManager\n * https://developers.google.com/maps/documentation/javascript/reference/drawing#DrawingManager\n */\nfunction DrawingManager({\n  options,\n  ...events\n}) {\n\n  const map = useMap()\n\n  // drawingManager reference\n  const drawingManager = useCallbackRef(() =>\n    new window.google.maps.drawing.DrawingManager())\n\n  // set drawing manager options\n  useSetOptions(drawingManager, options)\n  \n  // handle drawing manager mounting/unmounting\n  useEffect(() => {\n    drawingManager.setMap(map)\n    return () => drawingManager.setMap(null)\n  }, [map, drawingManager])\n\n  useCreateMapListeners(drawingManager, events, drawingManagerEvents)\n  return null\n}\n\nexport default DrawingManager","export const infoWindowEvents = {\n  onCloseClick: 'closeclick',\n  onContentChanged: 'content_changed',\n  onDomReady: 'domready',\n  onPositionChanged: 'position_changed',\n  onZIndexChanged: 'zindex_changed'\n}","import { Children, useEffect } from 'react'\nimport { createPortal } from 'react-dom'\nimport { useMap } from '../../maps/GoogleMap/GoogleMap'\nimport { useMarker } from '../Marker/Marker'\nimport { useCallbackRef } from '../../../helpers/hooks/use_callback_ref'\nimport { useSetOptions, useCreateMapListeners } from '../../../helpers/hooks/map_hooks'\nimport { infoWindowEvents } from './InfoWindowEvents'\n/**\n * InfoWindow\n * https://developers.google.com/maps/documentation/javascript/reference/info-window\n */\nfunction InfoWindow({\n  center,\n  children,\n  anchor,\n  options,\n  ...events\n}) {\n\n  const map = useMap()\n  const marker = useMarker()\n\n  const infoWindow = useCallbackRef(() => \n    new window.google.maps.InfoWindow()\n  )\n\n  const div = useCallbackRef(() =>\n    document.createElement('div')\n  )\n\n  // handle info window options\n  useSetOptions(infoWindow, options)\n\n  // handle info window position, when no anchor\n  useEffect(() => {\n    if (center) {\n      infoWindow.setPosition(center)\n    }\n  }, [infoWindow, center])\n\n  // handle info window content\n  useEffect(() => {\n    infoWindow.setContent(div)\n  }, [infoWindow, div])\n\n  // handle info window mounting/unmounting\n  useEffect(() => {\n    // InfoWindow is a child of a Marker\n    if (marker) {\n      infoWindow.open(map, marker)\n    // InfoWindow was passed a google map anchor obj\n    } else if (anchor) {\n      infoWindow.open(map, anchor)\n    // InfoWindow is passed center; positioning is handled above\n    } else {\n      infoWindow.open(map)\n    }\n    return () => infoWindow.setMap(null)\n  }, [map, marker, anchor, infoWindow, children])\n\n  useCreateMapListeners(infoWindow, events, infoWindowEvents)\n  // TODO not sure if I need to use Children.only here\n  return createPortal(Children.only(children), div)\n}\n\nexport default InfoWindow","import { useMemo } from 'react'\nimport { useCallbackRef } from '../../../helpers/hooks/use_callback_ref';\nimport { useMap } from '../../maps/GoogleMap/GoogleMap'\n\n/**\n * Hook that creates a CustomerOverlay component\n * with the prototype of google maps OverlayView\n * returns an array of [instance, class]\n */\nfunction useCustomOverlay() {\n  const map = useMap()\n  const CustomOverlay = useMemo(() => {\n    function CustomOverlay(map) {\n      this.setMap(map)\n      this.remove = () => this.setMap(null)\n    }\n    CustomOverlay.prototype = new window.google.maps.OverlayView()\n    return CustomOverlay\n  }, [])\n  \n  const customOverlay = useCallbackRef(() => new CustomOverlay(map))\n  \n  return [customOverlay, CustomOverlay]\n}\n\nconst PANES = {\n  FLOAT_PANE: 'floatPane',\n  MAP_PANE: 'mapPane',\n  MARKER_LAYER: 'markerLayer',\n  OVERLAY_LAYER: 'overlayLayer',\n  OVERLAY_MOUSE_TARGET: 'overlayMouseTarget'\n}\n\nexport { useCustomOverlay, PANES }","import { createPortal } from 'react-dom'\nimport { memo, useMemo } from 'react'\nimport { useCallbackRef } from '../../../helpers/hooks/use_callback_ref'\nimport { useCustomOverlay, PANES } from './helper'\nconst { FLOAT_PANE, MAP_PANE, MARKER_LAYER, OVERLAY_LAYER, OVERLAY_MOUSE_TARGET } = PANES;\n/**\n * OverlayView\n * https://developers.google.com/maps/documentation/javascript/reference/overlay-view#OverlayView\n */\nfunction OverlayView({\n  center,\n  children,\n  className,\n  pane = FLOAT_PANE,\n  style\n}) {\n\n  // [overlay instance, overlay function]\n  const [customOverlay, CustomOverlay] = useCustomOverlay()\n\n  const div = useCallbackRef(() => document.createElement('div'))\n\n  useMemo(() => {\n    CustomOverlay.prototype.onAdd = (e) => {\n      customOverlay.getPanes()[pane].appendChild(div)\n    }\n  }, [div, pane, customOverlay, CustomOverlay])\n\n  useMemo(() => {\n    CustomOverlay.prototype.draw = () => {\n      const projection = customOverlay.getProjection()\n      const { x, y } = projection.fromLatLngToDivPixel(\n        new window.google.maps.LatLng(center)\n      )\n      if (style) {\n        // haven't tested yet\n        const strStyles = Object.entries(style).reduce((str, [key, val]) => `${str}${key}:${val};`, '')\n        div.style.setAttribute(strStyles)\n      }\n      div.className = className\n      div.style.position = 'absolute'\n      div.style.left = `${x}px`\n      div.style.top = `${y}px`\n    }\n  }, [div, customOverlay, CustomOverlay, center, className, style])\n\n  // handle unmounting\n  useMemo(() => {\n    CustomOverlay.prototype.onRemove = memo(() => {\n      div.parentNode.removeChild(div)\n    })\n    return () => customOverlay.remove()\n  }, [div, customOverlay, CustomOverlay])\n\n  return createPortal(children, div)\n}\n\nOverlayView.floatPane = FLOAT_PANE\nOverlayView.mapPane = MAP_PANE\nOverlayView.markerLayer = MARKER_LAYER\nOverlayView.overlayLayer = OVERLAY_LAYER\nOverlayView.overlayMouseTarget = OVERLAY_MOUSE_TARGET\n\nexport default OverlayView\n","export const polygonEvents = {\n  onClick: 'click',\n  onDblClick: 'dblclick',\n  onDrag: 'drag',\n  onDragEnd: 'dragend',\n  onDragStart: 'dragstart',\n  onMouseDown: 'mousedown',\n  onMouseMove: 'mousemove',\n  onMouseOut: 'mouseout',\n  onMouseOver: 'mouseover',\n  onMouseUp: 'mouseup',\n  onRightclick: 'rightclick'\n}","import { useEffect } from 'react'\nimport { useMap } from '../../maps/GoogleMap/GoogleMap'\nimport { useCallbackRef } from '../../../helpers/hooks/use_callback_ref';\nimport { useSetOptions, useCreateMapListeners } from '../../../helpers/hooks/map_hooks';\nimport { polygonEvents } from './PolygonEvents';\n\n/**\n * Polygon\n * https://developers.google.com/maps/documentation/javascript/reference/polygon#Polygon\n */\nfunction Polygon({\n  options,\n  ...events\n}) {\n\n  const map = useMap()\n\n  const polygon = useCallbackRef(() => \n    new window.google.maps.Polygon()\n  )\n\n  // handle polygon options\n  useSetOptions(polygon, options)\n\n  // handle polygon mounting/unmounting\n  useEffect(() => {\n    polygon.setMap(map)\n    return () => polygon.setMap(null)\n  }, [map, polygon])\n\n  useCreateMapListeners(polygon, events, polygonEvents)\n  return null\n}\n\nexport default Polygon","export const polylineEvents = {\n  onClick: 'click',\n  onDblClick: 'dblclick',\n  onDrag: 'drag',\n  onDragEnd: 'dragend',\n  onDragStart: 'dragstart',\n  onMouseDown: 'mousedown',\n  onMouseMove: 'mousemove',\n  onMouseOut: 'mouseout',\n  onMouseOver: 'mouseover',\n  onMouseUp: 'mouseup',\n  onRightclick: 'rightclick'\n}","import { useEffect } from 'react'\nimport { useMap } from '../../maps/GoogleMap/GoogleMap'\nimport { useCallbackRef } from '../../../helpers/hooks/use_callback_ref';\nimport { useSetOptions, useCreateMapListeners } from '../../../helpers/hooks/map_hooks';\nimport { polylineEvents } from './PolylineEvents';\n/**\n * Polyline\n * https://developers.google.com/maps/documentation/javascript/reference/polygon#Polyline\n */\nfunction Polyline({\n  options,\n  ...events\n}) {\n\n  const map = useMap()\n\n  const polyline = useCallbackRef(() =>\n    new window.google.maps.Polyline()\n  )\n\n  // handle polyline options\n  useSetOptions(polyline, options)\n\n  // handle polyline mounting/unmounting\n  useEffect(() => {\n    polyline.setMap(map)\n    return () => polyline.setMap(null)\n  }, [map, polyline])\n\n  useCreateMapListeners(polyline, events, polylineEvents)\n  return null\n}\n\nexport default Polyline","export const rectangleEvents = {\n  onBoundsChanged: 'bounds_changed',\n  onClick: 'click',\n  onDblClick: 'dblclick',\n  onDrag: 'drag',\n  onDragEnd: 'dragend',\n  onDragStart: 'dragstart',\n  onMouseDown: 'mousedown',\n  onMouseMove: 'mousemove',\n  onMouseOut: 'mouseout',\n  onMouseOver: 'mouseover',\n  onMouseUp: 'mouseup',\n  onRightClick: 'rightclick'\n}","import { useEffect } from 'react'\nimport { useMap } from '../../maps/GoogleMap/GoogleMap'\nimport { useCallbackRef } from '../../../helpers/hooks/use_callback_ref';\nimport { useSetOptions, useCreateMapListeners } from '../../../helpers/hooks/map_hooks';\nimport { rectangleEvents } from './RectangleEvents';\n/**\n * Rectangle\n * https://developers.google.com/maps/documentation/javascript/reference/polygon#Rectangle\n */\nfunction Rectangle({\n  options,\n  ...events\n}) {\n\n  const map = useMap()\n\n  const rectangle = useCallbackRef(() =>\n    new window.google.maps.Rectangle()\n  )\n\n  // handle rectangle options\n  useSetOptions(rectangle, options)\n\n  // handle rectangle mounting/unmounting\n  useEffect(() => {\n    rectangle.setMap(map)\n    return () => rectangle.setMap(null)\n  }, [map, rectangle])\n\n  useCreateMapListeners(rectangle, events, rectangleEvents)\n  return null\n}\n\nexport default Rectangle","const directionsRendererEvents = {\n  onDirectionsChanged: 'directions_changed'\n}\n\nexport { directionsRendererEvents }","import { useEffect } from 'react'\nimport { useMap } from '../../maps/GoogleMap/GoogleMap';\nimport { useCallbackRef } from '../../../helpers/hooks/use_callback_ref';\nimport { useSetOptions, useCreateMapListeners } from '../../../helpers/hooks/map_hooks';\nimport { directionsRendererEvents } from './directionsRendererEvents';\n\nfunction DirectionsRenderer({\n  options,\n  ...events\n}) {\n\n  const map = useMap()\n\n  const directionsRenderer = useCallbackRef(() => \n    new window.google.maps.DirectionsRenderer()\n  )\n\n  // set options\n  useSetOptions(directionsRenderer, options)\n\n  useEffect(() => {\n    directionsRenderer.setMap(map)\n    return () => directionsRenderer.setMap(null)\n  }, [map, directionsRenderer])\n\n  useCreateMapListeners(directionsRenderer, events, directionsRendererEvents)\n  return null\n}\n\nexport default DirectionsRenderer","import { useEffect } from 'react'\n\nfunction useDirectionsRequest(...args) {\n  useEffect(() => {\n    const directionsService = new window.maps.DirectionsService()\n    directionsService.route(...args)\n  }, [args]) // does this dependency work?\n}\n\nexport default useDirectionsRequest","import React from 'react'\nimport { useScript } from '../../helpers/hooks/use_script'\n\n/**\n * This component loads the google maps script and renders\n * the map loader which uses objects from the script.\n */\nfunction ScriptLoader({\n  url,\n  loadingElement = null,\n  isAlreadyLoaded,\n  Element,\n  ...rest\n}) {\n  const isScriptLoaded = useScript(url, isAlreadyLoaded)\n  return isScriptLoaded ? \n    <Element loadingElement={loadingElement} {...rest} />\n    : loadingElement\n}\nexport default ScriptLoader","import React, { Fragment as _ } from 'react'\nimport { useSetOptions, useMapListener } from '../../../helpers/hooks/map_hooks';\nimport { useNodeRefConstructor } from '../../../helpers/hooks/use_node_ref_constructor';\n\nconst AUTO_COMPLETE_EVENT = 'place_changed'\n\nfunction AutoComplete({\n  options,\n  onPlaceChanged,\n  ...rest\n}) {\n  const [ref, autoComplete] = useNodeRefConstructor(\n    window.google.maps.places.Autocomplete\n  )\n  return (\n    <_>\n      <input ref={ref} {...rest} />\n      { autoComplete ? \n        <OnAutoComplete\n          options={options}\n          autoComplete={autoComplete} \n          onPlaceChanged={onPlaceChanged} />\n      : null }\n    </_>\n  )\n}\n\nfunction OnAutoComplete({autoComplete, options, onPlaceChanged}) {\n  useSetOptions(autoComplete, options)\n  useMapListener(autoComplete, onPlaceChanged, AUTO_COMPLETE_EVENT)\n}\n\nexport default AutoComplete","import React, { useMemo } from 'react'\nimport ScriptLoader from '../../helpers/ScriptLoader';\nimport AutoComplete from './AutoComplete';\n\nfunction LoadAutoComplete({\n  url,\n  ...rest\n}) {\n  const isAlreadyLoaded = useMemo(() => {\n    return !!(window.google && window.google.maps && window.google.maps.places)\n  }, [])\n  if (url) {\n    return (\n      <ScriptLoader {...rest} url={url}\n        Element={AutoComplete}\n        isAlreadyLoaded={isAlreadyLoaded}\n      />\n    )\n  } else if (isAlreadyLoaded) {\n    return (\n      <AutoComplete {...rest} />\n    )\n  }\n  return null\n}\n\nexport default LoadAutoComplete","import React, { Fragment as _ } from 'react'\nimport { useNodeRefConstructor } from '../../../helpers/hooks/use_node_ref_constructor';\nimport { useSetOptions, useMapListener } from '../../../helpers/hooks/map_hooks';\n\nconst SEARCH_BOX_EVENT = 'place_changed'\n\nfunction SearchBox({\n  options,\n  onPlaceChanged,\n  ...rest\n}) {\n  const [ref, searchBox] = useNodeRefConstructor(\n    window.google.maps.places.SearchBox\n  )\n  return (\n    <_>\n      <input ref={ref} {...rest} />\n      { searchBox ? \n        <OnSearchBox \n          options={options}  \n          searchBox={searchBox}\n          onPlaceChanged={onPlaceChanged}\n        />\n      : null }\n    </_>\n  )\n}\n\nfunction OnSearchBox({searchBox, options, onPlaceChanged}) {\n  useSetOptions(searchBox, options)\n  useMapListener(searchBox, onPlaceChanged, SEARCH_BOX_EVENT)\n}\n\nexport default SearchBox","import React, { useMemo } from 'react'\nimport ScriptLoader from '../../helpers/ScriptLoader';\nimport SearchBox from './SearchBox';\n\nfunction LoadSearchBox({\n  url,\n  ...rest\n}) {\n  const isAlreadyLoaded = useMemo(() => {\n    return !!(window.google && window.google.maps && window.google.maps.places)\n  }, [])\n  if (url) {\n    return (\n      <ScriptLoader {...rest} url={url}\n        isAlreadyLoaded={isAlreadyLoaded}\n        Element={SearchBox}\n      />\n    )\n  } else if (isAlreadyLoaded) {\n    return (\n      <SearchBox {...rest} />\n    )\n  }\n  return null\n}\n\nexport default LoadSearchBox","import React, { Fragment as _ } from 'react'\nimport { SetOptions, AddMapListener, useSetOptions, useMapListener } from '../../../helpers/hooks/map_hooks';\nimport { useNodeRefConstructor } from '../../../helpers/hooks/use_node_ref_constructor';\n\nfunction StreetViewPanorama({\n  options,\n  onCloseClick,\n  onPanoramaChanged,\n  onPositionChanged,\n  onPovChanged,\n  onResize,\n  onStatusChanged,\n  onVisibleChanged,\n  onZoomChanged,\n  ...rest\n}) {\n\n  const [ref, streetViewPanorama] = useNodeRefConstructor(\n    window.google.maps.StreetViewPanorama\n  );\n\n  return (\n    <div ref={ref} {...rest}>\n      { streetViewPanorama ? \n        <_>\n          <SetOptions obj={streetViewPanorama} opts={options} />\n          <AddMapListener obj={streetViewPanorama} func={onCloseClick} event={'closeclick'} />\n          <AddMapListener obj={onPanoramaChanged} func={onCloseClick} event={'pano_changed'} />\n          <AddMapListener obj={onPositionChanged} func={onCloseClick} event={'position_changed'} />\n          <AddMapListener obj={onPovChanged} func={onCloseClick} event={'pov_changed'} />\n          <AddMapListener obj={onResize} func={onCloseClick} event={'resive'} />\n          <AddMapListener obj={onStatusChanged} func={onCloseClick} event={'status_changed'} />\n          <AddMapListener obj={onVisibleChanged} func={onCloseClick} event={'visible_changed'} />\n          <AddMapListener obj={onZoomChanged} func={onCloseClick} event={'zoom_changed'} />\n        </_>\n      : null }\n    </div>\n  )\n}\n\nexport default StreetViewPanorama","// shouldn't be in the library\n\nfunction getLatLng(latLngObj) {\n  const lat = latLngObj.lat()\n  const lng = latLngObj.lng()\n  return { lat, lng }\n}\n\nfunction getMarkerBounds(marker, radius) {\n  const center = getLatLng(marker.getPosition())\n  const bounds = new window.google.maps.Circle({\n    center,\n    radius\n  }).getBounds()\n  return bounds\n}\n\nfunction getPolygonCenter(polygon) {\n  let bounds = new window.google.maps.LatLngBounds()\n  polygon.getPath().forEach(latLng => bounds.extend(latLng))\n  return getLatLng(bounds.getCenter())\n}\n\nexport { \n  getLatLng,\n  getMarkerBounds,\n  getPolygonCenter\n}"],"names":["useSetOptions","mapObj","opts","setOptions","SetOptions","obj","useMapListener","func","event","enhancedFunc","e","listener","addListener","window","google","maps","removeListener","useMapListenerOnce","addListenerOnce","AddMapListener","useCreateMapListeners","events","eventMapping","Object","keys","map","MapListener","funcName","googleMapEvents","useNodeRefConstructor","clazz","arg","initClazz","useRef","initArgs","useState","inst","setInst","ref","useCallback","node","current","GoogleMap","bounds","center","children","options","containerProps","Map","zoom","mapRef","OnMap","memo","useMap","panTo","fitBounds","MapContext","createContext","useContext","useAMapListener","Error","useMapEventListener","useMapEventListenerOnce","useCallbackRef","BicyclingLayer","bicyclingLayer","setMap","useScript","url","alreadyLoaded","isLoaded","setIsLoaded","script","document","createElement","src","async","onload","head","appendChild","LoadMap","loadingElement","rest","TrafficLayer","trafficLayer","TransitLayer","transitLayer","useSetClusterer","clusterer","val","setter","clustererEvents","ClustererContext","useClusterer","Clusterer","averageCenter","batchSizeIE","calculator","clusterClass","enableRetinaIcons","gridSize","ignoreHidden","imageExtension","imagePath","imageSizes","maxZoom","minimumClusterSize","styles","title","zoomOnClick","MarkerClusterer","markerEvents","Marker","noRedraw","marker","setPosition","addMarker","removeMarker","MarkerContext","useMarker","circleEvents","Circle","circle","bindTo","setCenter","getMap","drawingManagerEvents","DrawingManager","drawingManager","drawing","infoWindowEvents","InfoWindow","anchor","infoWindow","div","setContent","open","createPortal","Children","only","useCustomOverlay","CustomOverlay","useMemo","remove","prototype","OverlayView","customOverlay","PANES","FLOAT_PANE","MAP_PANE","MARKER_LAYER","OVERLAY_LAYER","OVERLAY_MOUSE_TARGET","className","pane","style","onAdd","getPanes","draw","projection","getProjection","fromLatLngToDivPixel","LatLng","x","y","strStyles","entries","reduce","str","key","setAttribute","position","left","top","onRemove","parentNode","removeChild","floatPane","mapPane","markerLayer","overlayLayer","overlayMouseTarget","polygonEvents","Polygon","polygon","polylineEvents","Polyline","polyline","rectangleEvents","Rectangle","rectangle","directionsRendererEvents","DirectionsRenderer","directionsRenderer","useDirectionsRequest","args","directionsService","DirectionsService","route","ScriptLoader","isAlreadyLoaded","Element","isScriptLoaded","AUTO_COMPLETE_EVENT","AutoComplete","onPlaceChanged","places","Autocomplete","autoComplete","OnAutoComplete","LoadAutoComplete","SEARCH_BOX_EVENT","SearchBox","searchBox","OnSearchBox","LoadSearchBox","StreetViewPanorama","onCloseClick","onPanoramaChanged","onPositionChanged","onPovChanged","onResize","onStatusChanged","onVisibleChanged","onZoomChanged","streetViewPanorama","getLatLng","latLngObj","lat","lng","getPolygonCenter","LatLngBounds","getPath","forEach","extend","latLng","getCenter"],"mappings":"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"}